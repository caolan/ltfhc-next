<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New Patient</title>
    <link rel="stylesheet" style="text/css" href="deps/opt/bootstrap.css" />
  </head>
  <body>
    <h1>New Patient</h1>
    <form></form>
    <div id="res" class="alert"></div>
    <script type="text/javascript" src="deps/jquery.min.js"></script>
    <script type="text/javascript" src="deps/underscore.js"></script>
    <script type="text/javascript" src="deps/opt/jsv.js"></script>
    <script type="text/javascript" src="lib/jsonform.js"></script>
    <script type="text/javascript">
      $('form').jsonForm({
        schema: {
		  "firstname": {
			"title": "First Name",
			"type": "string"
		  },
		  "lastname": {
			"title": "Last Name",
			"type": "string"
		  },
		  "gender": {
			"title": "Gender",
			"description": "Your gender",
			"type": "string",
			"enum": [
			  "male",
			  "female",
			]
		  },
		  "clinicid": {
			"title": "Clinic ID",
			"type": "string"
		  },
		  "governmentid": {
			"title": "Government ID",
			"type": "string"
		  },
		  "hivid": {
			"title": "HIV ID",
			"type": "string"
		  },
		  "phone": {
			"title": "Phone",
			"type": "number"
		  },
		  "birthday": {
			"title": "Birthday",
			"type": "date"
		  },
		  "approxage": {
			"title": "Approximate Age",
			"type": "number"
		  },
		  "allergies": {
			"title": "Medication Allergies",
			"type": "array",
			"items": {
			   "type": "string",
			   "title": "Drug"
			}
		  }
        },
        onSubmit: function (errors, values) {
          if (errors) {
            $('#res').html('<p>I beg your pardon?</p>');
          }
          else {
            $('#res').html('<p>Hello ' + values.firstname + '.' +
              (values.gender ? '<br/>You are ' + values.gender + '.' : '') +
              '</p>');
          }
        }
      });
    </script>
  </body>
</html>