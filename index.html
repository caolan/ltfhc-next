<script type="text/javascript" src="alpacajs/js/alpaca.min.js"></script>
<link type="text/css" href="alpacajs/css/alpaca-bootstrap.min.css" rel="stylesheet"/>

<h1>Hello, world!</h1>
<div id="visit"></ul>

<script type="text/javascript">
$(function() {
	$("#visit").alpaca({
		"data": {},
		"options": {},
		"schema": {
			"title": "Patient Visit",
			"description": "Enter information about the patient's visit",
			"type": "object",
			"properties": {
				"village": {
					"title": "village",
					"type": "string"
				},
				"clinicid": {
					"title": "Clinic ID",
					"type": "string"
				},
				"userid": {
					"title": "Clinician",
					"type": "string"
				},
				"notes": {
					"title": "Notes",
					"type": "string"
				},
				"reasons": {
					"title": "Reasons for Visit",
					"type": "String",
					"$ref": "#/definitions/list"
				},
				"subforms": {
					"$ref": "#/definitions/subforms"
				}
			},
			"definitions": {
				"list": {
					"enum": ["bodilyinjury", "diseasediagnosis", "immunization"]
				},
				"subforms": {
					"type": "object",
					"title": "Sub forms",
					"properties": {
						"bodilyinjury": {
							"title": "Bodily Injury",
							"type": "string"
						},
						"diseasediagnosis": {
							"title": "Disease Diagnosis",
							"type": "string"
						},
						"immunization": {
							"title": "Imnunization",
							"type": "string"
						}
					}
				}
			},
			"view": "VIEW_JQUERYUI_EDIT_LIST"
		}
	});
});
</script>
