$(function() {
	$("#field1").alpaca({
		"data": {},
		"options": {
			"fields": {
				"subforms": {
					"bodilyinjury": {
						"dependencies": {
							"reasons": "bodilyinjury"
						}
					},
					"diseasediagnosis": {
						"dependencies": {
							"reasons": "diseasediagnosis"
						}
					},
					"immunization": {
						"dependencies": {
							"reasons": "immunization"
						}
					}
				}
			}
		},
		"schema": {
			"title": "Ice Cream Picker",
			"description": "Select Your Favorite Ice Cream",
			"type": "object",
			"properties": {
				"village": {
					"title": "village",
					"type": "string"
				},
				"clinicid": {
					"title": "Clinic ID",
					"type": "string"
				},
				"userid": {
					"title": "Clinician",
					"type": "string"
				},
				"notes": {
					"title": "Notes",
					"type": "string"
				},
				"reasons": {
					"title": "Reasons for Visit",
					"type": "String",
					"$ref": "#/forms/schema/parent/visit/list/list"
				},
				"subforms": {
					"$ref": "#/forms/schema/parent/visit/subforms/subforms"
				}
			},
			"enum": ["bodilyinjury", "diseasediagnosis", "immunization"],
			"forms": {
				"schema": {
					"parent": {
						"visit": {
							"list": {
								"id": "list",
								"enum": ["bodilyinjury", "diseasediagnosis", "immunization"]
							},
							"subforms": {
								"id": "subforms",
								"bodilyinjury": {
									"title": "Bodily Injury",
									"type": "String",
									"dependencies": "reasons"
								},
								"diseasediagnosis": {
									"title": "Disease Diagnosis",
									"type": "String",
									"dependencies": "reasons"
								},
								"immunization": {
									"title": "Imnunization",
									"type": "String",
									"dependencies": "reasons"
								}
							}

						}
					}
				}
			},
			"view": "VIEW_JQUERYUI_EDIT_LIST"
		}
	});
});
